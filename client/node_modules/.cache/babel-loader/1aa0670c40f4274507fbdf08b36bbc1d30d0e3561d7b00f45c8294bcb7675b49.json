{"ast":null,"code":"var _jsxFileName = \"/home/paulag/fundraisely-club/client/src/components/auth/ClubRegistrationForm.tsx\",\n  _s = $RefreshSig$();\n// client/src/components/auth/ClubRegistrationForm.tsx\nimport React, { useState, useCallback } from 'react';\nimport { Users, Mail, Lock, Eye, EyeOff, CheckCircle, AlertCircle } from 'lucide-react';\nimport { useAuth, useUI } from '../../store/app_store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ClubRegisterForm({\n  onSwitchToLogin\n}) {\n  _s();\n  const {\n    register\n  } = useAuth();\n  const {\n    isLoading,\n    error,\n    clearError\n  } = useUI();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  // Simplified input change handler\n  const handleInputChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error immediately when user starts typing\n    setErrors(prev => {\n      if (prev[name]) {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[name];\n        return newErrors;\n      }\n      return prev;\n    });\n    if (error) clearError();\n  }, [error, clearError]); // ✅ Removed 'errors' dependency\n\n  // Fixed validation - removed dependency on errors state to prevent re-render loops\n  const validateField = useCallback(field => {\n    const newErrors = {\n      ...errors\n    };\n    switch (field) {\n      case 'name':\n        if (!formData.name.trim()) {\n          newErrors.name = 'Club name is required';\n        } else if (formData.name.trim().length < 2) {\n          newErrors.name = 'Club name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n      case 'email':\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!formData.email) {\n          newErrors.email = 'Email is required';\n        } else if (!emailRegex.test(formData.email)) {\n          newErrors.email = 'Please enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n      case 'password':\n        if (!formData.password) {\n          newErrors.password = 'Password is required';\n        } else if (formData.password.length < 8) {\n          newErrors.password = 'Password must be at least 8 characters';\n        } else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password)) {\n          newErrors.password = 'Password must contain uppercase, lowercase, and number';\n        } else {\n          delete newErrors.password;\n        }\n        break;\n      case 'confirmPassword':\n        if (!formData.confirmPassword) {\n          newErrors.confirmPassword = 'Please confirm your password';\n        } else if (formData.password !== formData.confirmPassword) {\n          newErrors.confirmPassword = 'Passwords do not match';\n        } else {\n          delete newErrors.confirmPassword;\n        }\n        break;\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]); // ✅ Removed 'errors' dependency\n\n  // Simplified blur handler - now validateField is declared above\n  const handleBlur = useCallback(field => {\n    setTouched(prev => ({\n      ...prev,\n      [field]: true\n    }));\n\n    // Only validate on blur, not during typing\n    setTimeout(() => validateField(field), 0);\n  }, [validateField]);\n\n  // Fixed form validation - check if form is complete and valid\n  const isFormValid = useCallback(() => {\n    const hasAllFields = formData.name.trim() && formData.email.trim() && formData.password && formData.confirmPassword;\n    const passwordsMatch = formData.password === formData.confirmPassword;\n    const passwordValid = formData.password.length >= 8 && /(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password);\n    const emailValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email);\n    return hasAllFields && passwordsMatch && passwordValid && emailValid;\n  }, [formData]);\n  const validateForm = () => {\n    const fields = ['name', 'email', 'password', 'confirmPassword'];\n    let isValid = true;\n    fields.forEach(field => {\n      if (!validateField(field)) {\n        isValid = false;\n      }\n    });\n    return isValid;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    try {\n      await register({\n        name: formData.name.trim(),\n        email: formData.email.trim(),\n        password: formData.password\n      });\n      // Registration success is handled by the store (redirect to dashboard)\n    } catch (error) {\n      // Error is already set in the store by the register function\n      console.error('Registration failed:', error);\n    }\n  };\n\n  // Memoized password strength calculation\n  const getPasswordStrength = useCallback(() => {\n    const password = formData.password;\n    let score = 0;\n    if (password.length >= 8) score++;\n    if (/[a-z]/.test(password)) score++;\n    if (/[A-Z]/.test(password)) score++;\n    if (/\\d/.test(password)) score++;\n    if (/[^A-Za-z0-9]/.test(password)) score++;\n    return score;\n  }, [formData.password]);\n  const getPasswordStrengthText = useCallback(() => {\n    const strength = getPasswordStrength();\n    if (strength < 2) return {\n      text: 'Weak',\n      color: 'text-red-600'\n    };\n    if (strength < 4) return {\n      text: 'Medium',\n      color: 'text-yellow-600'\n    };\n    return {\n      text: 'Strong',\n      color: 'text-green-600'\n    };\n  }, [getPasswordStrength]);\n\n  // Memoized password toggle handlers\n  const togglePassword = useCallback(() => setShowPassword(prev => !prev), []);\n  const toggleConfirmPassword = useCallback(() => setShowConfirmPassword(prev => !prev), []);\n\n  // Optimized InputField component to prevent re-renders\n  const InputField = /*#__PURE__*/React.memo(({\n    label,\n    name,\n    type = 'text',\n    icon: Icon,\n    placeholder,\n    autoComplete,\n    showToggle = false,\n    showPassword: isPasswordVisible = false,\n    onToggleShow\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: name,\n      className: \"block text-sm font-medium text-gray-700 mb-1\",\n      children: [label, \" *\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(Icon, {\n        className: \"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: showToggle ? isPasswordVisible ? 'text' : 'password' : type,\n        id: name,\n        name: name,\n        autoComplete: autoComplete,\n        value: formData[name],\n        onChange: handleInputChange,\n        onBlur: () => handleBlur(name),\n        className: `w-full pl-10 ${showToggle ? 'pr-10' : 'pr-3'} py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 ${errors[name] && touched[name] ? 'border-red-300 focus:border-red-500 focus:ring-red-500' : 'border-gray-300 focus:border-blue-500 focus:ring-blue-500'}`,\n        placeholder: placeholder,\n        disabled: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), showToggle && onToggleShow && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onToggleShow,\n        className: \"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\",\n        children: isPasswordVisible ? /*#__PURE__*/_jsxDEV(EyeOff, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 34\n        }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 67\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), errors[name] && touched[name] && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-1 text-sm text-red-600 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-4 w-4 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), errors[name]]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full bg-white rounded-lg shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-8 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mx-auto h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-6 w-6 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mt-4 text-2xl font-bold text-gray-900\",\n            children: \"Join FundRaisely\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-gray-600\",\n            children: \"Register your club and start fundraising today\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-6\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 bg-red-50 border border-red-200 rounded-md p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-5 w-5 text-red-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-800\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4\",\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Club Name\",\n            name: \"name\",\n            icon: Users,\n            placeholder: \"e.g., Greenfield Community Club\",\n            autoComplete: \"organization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Email Address\",\n            name: \"email\",\n            type: \"email\",\n            icon: Mail,\n            placeholder: \"club@example.com\",\n            autoComplete: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(InputField, {\n              label: \"Password\",\n              name: \"password\",\n              icon: Lock,\n              placeholder: \"Create a strong password\",\n              autoComplete: \"new-password\",\n              showToggle: true,\n              showPassword: showPassword,\n              onToggleShow: togglePassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), formData.password && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Password strength:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs font-medium ${getPasswordStrengthText().color}`,\n                  children: getPasswordStrengthText().text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-1\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `h-1 rounded-full transition-all duration-300 ${getPasswordStrength() < 2 ? 'bg-red-500' : getPasswordStrength() < 4 ? 'bg-yellow-500' : 'bg-green-500'}`,\n                  style: {\n                    width: `${getPasswordStrength() / 5 * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputField, {\n            label: \"Confirm Password\",\n            name: \"confirmPassword\",\n            icon: Lock,\n            placeholder: \"Confirm your password\",\n            autoComplete: \"new-password\",\n            showToggle: true,\n            showPassword: showConfirmPassword,\n            onToggleShow: toggleConfirmPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading || !isFormValid(),\n            className: \"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), \"Creating Account...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), \"Create Club Account\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 bg-gray-50 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-900 mb-2\",\n            children: \"What you get:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-sm text-gray-600 space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 text-green-500 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), \"Track campaigns and events\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 text-green-500 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), \"Manage supporters and volunteers\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 text-green-500 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this), \"Real-time fundraising insights\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-4 w-4 text-green-500 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), \"Easy prize and task management\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), onSwitchToLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: onSwitchToLogin,\n              className: \"font-medium text-blue-600 hover:text-blue-500\",\n              children: \"Sign in here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n}\n_s(ClubRegisterForm, \"1IqsuCdaWtUDMUjuXQsWuJM5bgw=\", false, function () {\n  return [useAuth, useUI];\n});\n_c = ClubRegisterForm;\nvar _c;\n$RefreshReg$(_c, \"ClubRegisterForm\");","map":{"version":3,"names":["React","useState","useCallback","Users","Mail","Lock","Eye","EyeOff","CheckCircle","AlertCircle","useAuth","useUI","jsxDEV","_jsxDEV","ClubRegisterForm","onSwitchToLogin","_s","register","isLoading","error","clearError","formData","setFormData","name","email","password","confirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","errors","setErrors","touched","setTouched","handleInputChange","e","value","target","prev","newErrors","validateField","field","trim","length","emailRegex","test","Object","keys","handleBlur","setTimeout","isFormValid","hasAllFields","passwordsMatch","passwordValid","emailValid","validateForm","fields","isValid","forEach","handleSubmit","preventDefault","console","getPasswordStrength","score","getPasswordStrengthText","strength","text","color","togglePassword","toggleConfirmPassword","InputField","memo","label","type","icon","Icon","placeholder","autoComplete","showToggle","isPasswordVisible","onToggleShow","children","htmlFor","className","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","onBlur","disabled","onClick","onSubmit","noValidate","style","width","_c","$RefreshReg$"],"sources":["/home/paulag/fundraisely-club/client/src/components/auth/ClubRegistrationForm.tsx"],"sourcesContent":["// client/src/components/auth/ClubRegistrationForm.tsx\nimport React, { useState, useCallback } from 'react';\nimport { Users, Mail, Lock, Eye, EyeOff, CheckCircle, AlertCircle } from 'lucide-react';\nimport { useAuth, useUI } from '../../store/app_store';\n\ninterface ClubRegisterFormProps {\n  onSwitchToLogin?: () => void;\n}\n\nexport default function ClubRegisterForm({ onSwitchToLogin }: ClubRegisterFormProps) {\n  const { register } = useAuth();\n  const { isLoading, error, clearError } = useUI();\n\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [touched, setTouched] = useState<Record<string, boolean>>({});\n\n  // Simplified input change handler\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error immediately when user starts typing\n    setErrors(prev => {\n      if (prev[name]) {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      }\n      return prev;\n    });\n    \n    if (error) clearError();\n  }, [error, clearError]); // ✅ Removed 'errors' dependency\n\n  // Fixed validation - removed dependency on errors state to prevent re-render loops\n  const validateField = useCallback((field: string) => {\n    const newErrors = { ...errors };\n\n    switch (field) {\n      case 'name':\n        if (!formData.name.trim()) {\n          newErrors.name = 'Club name is required';\n        } else if (formData.name.trim().length < 2) {\n          newErrors.name = 'Club name must be at least 2 characters';\n        } else {\n          delete newErrors.name;\n        }\n        break;\n\n      case 'email':\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!formData.email) {\n          newErrors.email = 'Email is required';\n        } else if (!emailRegex.test(formData.email)) {\n          newErrors.email = 'Please enter a valid email address';\n        } else {\n          delete newErrors.email;\n        }\n        break;\n\n      case 'password':\n        if (!formData.password) {\n          newErrors.password = 'Password is required';\n        } else if (formData.password.length < 8) {\n          newErrors.password = 'Password must be at least 8 characters';\n        } else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password)) {\n          newErrors.password = 'Password must contain uppercase, lowercase, and number';\n        } else {\n          delete newErrors.password;\n        }\n        break;\n\n      case 'confirmPassword':\n        if (!formData.confirmPassword) {\n          newErrors.confirmPassword = 'Please confirm your password';\n        } else if (formData.password !== formData.confirmPassword) {\n          newErrors.confirmPassword = 'Passwords do not match';\n        } else {\n          delete newErrors.confirmPassword;\n        }\n        break;\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]); // ✅ Removed 'errors' dependency\n\n  // Simplified blur handler - now validateField is declared above\n  const handleBlur = useCallback((field: string) => {\n    setTouched(prev => ({\n      ...prev,\n      [field]: true\n    }));\n    \n    // Only validate on blur, not during typing\n    setTimeout(() => validateField(field), 0);\n  }, [validateField]);\n\n  // Fixed form validation - check if form is complete and valid\n  const isFormValid = useCallback(() => {\n    const hasAllFields = formData.name.trim() && \n                        formData.email.trim() && \n                        formData.password && \n                        formData.confirmPassword;\n    \n    const passwordsMatch = formData.password === formData.confirmPassword;\n    const passwordValid = formData.password.length >= 8 && \n                         /(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password);\n    const emailValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email);\n    \n    return hasAllFields && passwordsMatch && passwordValid && emailValid;\n  }, [formData]);\n\n  const validateForm = () => {\n    const fields = ['name', 'email', 'password', 'confirmPassword'];\n    let isValid = true;\n    \n    fields.forEach(field => {\n      if (!validateField(field)) {\n        isValid = false;\n      }\n    });\n\n    return isValid;\n  };\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      await register({\n        name: formData.name.trim(),\n        email: formData.email.trim(),\n        password: formData.password\n      });\n      // Registration success is handled by the store (redirect to dashboard)\n    } catch (error) {\n      // Error is already set in the store by the register function\n      console.error('Registration failed:', error);\n    }\n  };\n\n  // Memoized password strength calculation\n  const getPasswordStrength = useCallback(() => {\n    const password = formData.password;\n    let score = 0;\n    \n    if (password.length >= 8) score++;\n    if (/[a-z]/.test(password)) score++;\n    if (/[A-Z]/.test(password)) score++;\n    if (/\\d/.test(password)) score++;\n    if (/[^A-Za-z0-9]/.test(password)) score++;\n    \n    return score;\n  }, [formData.password]);\n\n  const getPasswordStrengthText = useCallback(() => {\n    const strength = getPasswordStrength();\n    if (strength < 2) return { text: 'Weak', color: 'text-red-600' };\n    if (strength < 4) return { text: 'Medium', color: 'text-yellow-600' };\n    return { text: 'Strong', color: 'text-green-600' };\n  }, [getPasswordStrength]);\n\n  // Memoized password toggle handlers\n  const togglePassword = useCallback(() => setShowPassword(prev => !prev), []);\n  const toggleConfirmPassword = useCallback(() => setShowConfirmPassword(prev => !prev), []);\n\n  // Optimized InputField component to prevent re-renders\n  const InputField = React.memo(({ \n    label, \n    name, \n    type = 'text', \n    icon: Icon, \n    placeholder,\n    autoComplete,\n    showToggle = false,\n    showPassword: isPasswordVisible = false,\n    onToggleShow\n  }: {\n    label: string;\n    name: string;\n    type?: string;\n    icon: any;\n    placeholder: string;\n    autoComplete?: string;\n    showToggle?: boolean;\n    showPassword?: boolean;\n    onToggleShow?: () => void;\n  }) => (\n    <div>\n      <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">\n        {label} *\n      </label>\n      <div className=\"relative\">\n        <Icon className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n        <input\n          type={showToggle ? (isPasswordVisible ? 'text' : 'password') : type}\n          id={name}\n          name={name}\n          autoComplete={autoComplete}\n          value={formData[name as keyof typeof formData]}\n          onChange={handleInputChange}\n          onBlur={() => handleBlur(name)}\n          className={`w-full pl-10 ${showToggle ? 'pr-10' : 'pr-3'} py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 ${\n            errors[name] && touched[name]\n              ? 'border-red-300 focus:border-red-500 focus:ring-red-500'\n              : 'border-gray-300 focus:border-blue-500 focus:ring-blue-500'\n          }`}\n          placeholder={placeholder}\n          disabled={isLoading}\n        />\n        {showToggle && onToggleShow && (\n          <button\n            type=\"button\"\n            onClick={onToggleShow}\n            className=\"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600\"\n          >\n            {isPasswordVisible ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\n          </button>\n        )}\n      </div>\n      {errors[name] && touched[name] && (\n        <p className=\"mt-1 text-sm text-red-600 flex items-center\">\n          <AlertCircle className=\"h-4 w-4 mr-1\" />\n          {errors[name]}\n        </p>\n      )}\n    </div>\n  ));\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-xl\">\n        {/* Header */}\n        <div className=\"px-6 py-8 border-b border-gray-200\">\n          <div className=\"text-center\">\n            <div className=\"mx-auto h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center\">\n              <Users className=\"h-6 w-6 text-blue-600\" />\n            </div>\n            <h2 className=\"mt-4 text-2xl font-bold text-gray-900\">Join FundRaisely</h2>\n            <p className=\"mt-2 text-sm text-gray-600\">\n              Register your club and start fundraising today\n            </p>\n          </div>\n        </div>\n\n        {/* Form */}\n        <div className=\"px-6 py-6\">\n          {error && (\n            <div className=\"mb-4 bg-red-50 border border-red-200 rounded-md p-3\">\n              <div className=\"flex\">\n                <AlertCircle className=\"h-5 w-5 text-red-400\" />\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-red-800\">{error}</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* ✅ FIXED: Proper form element with onSubmit */}\n          <form onSubmit={handleSubmit} className=\"space-y-4\" noValidate>\n            <InputField\n              label=\"Club Name\"\n              name=\"name\"\n              icon={Users}\n              placeholder=\"e.g., Greenfield Community Club\"\n              autoComplete=\"organization\"\n            />\n\n            <InputField\n              label=\"Email Address\"\n              name=\"email\"\n              type=\"email\"\n              icon={Mail}\n              placeholder=\"club@example.com\"\n              autoComplete=\"email\"\n            />\n\n            <div>\n              <InputField\n                label=\"Password\"\n                name=\"password\"\n                icon={Lock}\n                placeholder=\"Create a strong password\"\n                autoComplete=\"new-password\"\n                showToggle={true}\n                showPassword={showPassword}\n                onToggleShow={togglePassword}\n              />\n              \n              {/* Password Strength Indicator */}\n              {formData.password && (\n                <div className=\"mt-2\">\n                  <div className=\"flex justify-between items-center mb-1\">\n                    <span className=\"text-xs text-gray-500\">Password strength:</span>\n                    <span className={`text-xs font-medium ${getPasswordStrengthText().color}`}>\n                      {getPasswordStrengthText().text}\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-1\">\n                    <div \n                      className={`h-1 rounded-full transition-all duration-300 ${\n                        getPasswordStrength() < 2 ? 'bg-red-500' :\n                        getPasswordStrength() < 4 ? 'bg-yellow-500' : 'bg-green-500'\n                      }`}\n                      style={{ width: `${(getPasswordStrength() / 5) * 100}%` }}\n                    ></div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            <InputField\n              label=\"Confirm Password\"\n              name=\"confirmPassword\"\n              icon={Lock}\n              placeholder=\"Confirm your password\"\n              autoComplete=\"new-password\"\n              showToggle={true}\n              showPassword={showConfirmPassword}\n              onToggleShow={toggleConfirmPassword}\n            />\n\n            {/* ✅ FIXED: Better button disabled logic */}\n            <button\n              type=\"submit\"\n              disabled={isLoading || !isFormValid()}\n              className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? (\n                <div className=\"flex items-center\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Creating Account...\n                </div>\n              ) : (\n                <div className=\"flex items-center\">\n                  <CheckCircle className=\"h-4 w-4 mr-2\" />\n                  Create Club Account\n                </div>\n              )}\n            </button>\n          </form>\n\n          {/* Benefits Section */}\n          <div className=\"mt-6 bg-gray-50 rounded-lg p-4\">\n            <h3 className=\"text-sm font-medium text-gray-900 mb-2\">What you get:</h3>\n            <ul className=\"text-sm text-gray-600 space-y-1\">\n              <li className=\"flex items-center\">\n                <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n                Track campaigns and events\n              </li>\n              <li className=\"flex items-center\">\n                <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n                Manage supporters and volunteers\n              </li>\n              <li className=\"flex items-center\">\n                <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n                Real-time fundraising insights\n              </li>\n              <li className=\"flex items-center\">\n                <CheckCircle className=\"h-4 w-4 text-green-500 mr-2\" />\n                Easy prize and task management\n              </li>\n            </ul>\n          </div>\n\n          {/* Login Link */}\n          {onSwitchToLogin && (\n            <div className=\"mt-6 text-center\">\n              <p className=\"text-sm text-gray-600\">\n                Already have an account?{' '}\n                <button\n                  type=\"button\"\n                  onClick={onSwitchToLogin}\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\n                >\n                  Sign in here\n                </button>\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}