{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAppStore,useAuth,useCampaigns,useEvents,useSupporters,useUI}from'../../store/app_store';import{apiService}from'../../services/apiService';// NEW IMPORT\nimport CreateEventForm from'../events/CreateEventForm';import CreateCampaignForm from'../campaigns/CreateCampaignForm';// NEW IMPORT\nimport CreateSupporterForm from'../supporters/forms/CreateSupporterForm';import SupporterDetailPanel from'../supporters/panels/SupporterDetailPanel';import{supporterService}from'../../services';import DashboardHeader from'./DashboardHeader';import DashboardTabs from'./DashboardTabs';import OverviewTab from'./OverviewTab';import CampaignsTab from'./CampaignsTab';import EventsTab from'./EventsTab';import SupportersTab from'./SupportersTab';import FinancialsTab from'./FinancialsTab';// Component-specific prop interfaces\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ClubDashboard(){const[activeTab,setActiveTab]=useState('overview');const[financials,setFinancials]=useState(null);const[loadingFinancials,setLoadingFinancials]=useState(false);// Enhanced state for event editing\nconst[showCreateEventForm,setShowCreateEventForm]=useState(false);const[showEditEventForm,setShowEditEventForm]=useState(false);const[eventToEdit,setEventToEdit]=useState(null);// NEW: Enhanced state for campaign editing\nconst[showCreateCampaignForm,setShowCreateCampaignForm]=useState(false);const[showEditCampaignForm,setShowEditCampaignForm]=useState(false);const[campaignToEdit,setCampaignToEdit]=useState(null);const navigate=useNavigate();// Use your existing app store hooks\nconst{user,club}=useAuth();const{campaigns,addCampaign,updateCampaign,deleteCampaign}=useCampaigns();const{events,addEvent,updateEvent,deleteEvent}=useEvents();const{supporters}=useSupporters();const{isLoading,error}=useUI();const{loadClubData}=useAppStore();// Enhanced state for supporter management\nconst[showCreateSupporterForm,setShowCreateSupporterForm]=useState(false);const[showEditSupporterForm,setShowEditSupporterForm]=useState(false);const[supporterToEdit,setSupporterToEdit]=useState(null);const[showSupporterDetailPanel,setShowSupporterDetailPanel]=useState(false);const[selectedSupporter,setSelectedSupporter]=useState(null);// Load financial data\nconst loadFinancialData=async()=>{if(club!==null&&club!==void 0&&club.id){setLoadingFinancials(true);try{const financialData=await apiService.getClubFinancials(club.id);setFinancials(financialData);}catch(error){console.error('Failed to load financial data:',error);}finally{setLoadingFinancials(false);}}};// Load data when component mounts\nuseEffect(()=>{if(club!==null&&club!==void 0&&club.id){console.log('Loading dashboard data for club:',club.id);loadClubData();// Loads campaigns, events, supporters from your app store\nloadFinancialData();// Loads financial data\n}},[club===null||club===void 0?void 0:club.id,loadClubData]);// Create computed metrics from real data\nconst metrics={total_raised:(financials===null||financials===void 0?void 0:financials.total_income)||0,active_campaigns:campaigns.length,upcoming_events:events.filter(e=>new Date(e.event_date)>new Date()).length,total_supporters:supporters.length,top_donors:supporters.filter(s=>s.type==='donor').slice(0,3)};// Filter upcoming events from real data\nconst upcomingEvents=events.filter(event=>new Date(event.event_date)>new Date()).slice(0,2);// Show only next 2 events\n// Get financial data from backend or use defaults\nconst financialData={monthly_income:(financials===null||financials===void 0?void 0:financials.total_income)||0,monthly_expenses:(financials===null||financials===void 0?void 0:financials.total_expenses)||0,net_profit:(financials===null||financials===void 0?void 0:financials.net_profit)||0,pending_expenses:0,// You might need to add this to your backend\nrecent_transactions:[],// You might need to add this to your backend\nexpense_categories:(financials===null||financials===void 0?void 0:financials.expense_breakdown)||[]};// Event handlers for the EventCard\nconst handleEditEvent=event=>{console.log('🖊️ Opening edit form for event:',event.title);setEventToEdit(event);setShowEditEventForm(true);};const handleDeleteEvent=async eventId=>{const event=events.find(e=>e.id===eventId);if(!event)return;const confirmMessage=\"Are you sure you want to delete \\\"\".concat(event.title,\"\\\"? This action cannot be undone.\");if(window.confirm(confirmMessage)){try{await apiService.deleteEvent(eventId);deleteEvent(eventId);// Remove from store\n// Refresh financial data since event was deleted\nif(club!==null&&club!==void 0&&club.id){loadFinancialData();}console.log('✅ Event deleted successfully');}catch(error){console.error('❌ Failed to delete event:',error);alert('Failed to delete event. Please try again.');}}};const handleViewEvent=event=>{console.log('👁️ View event:',event.title);// TODO: Navigate to event details page or show event details modal\n// navigate(`/events/${event.id}`);\n};// NEW: Campaign handlers for the CampaignCard\nconst handleEditCampaign=campaign=>{console.log('🖊️ Opening edit form for campaign:',campaign.name);setCampaignToEdit(campaign);setShowEditCampaignForm(true);};const handleDeleteCampaign=async campaignId=>{const campaign=campaigns.find(c=>c.id===campaignId);if(!campaign)return;const confirmMessage=\"Are you sure you want to delete \\\"\".concat(campaign.name,\"\\\"? This action cannot be undone.\");if(window.confirm(confirmMessage)){try{await apiService.deleteCampaign(campaignId);deleteCampaign(campaignId);// Remove from store\n// Refresh financial data since campaign was deleted\nif(club!==null&&club!==void 0&&club.id){loadFinancialData();}console.log('✅ Campaign deleted successfully');}catch(error){console.error('❌ Failed to delete campaign:',error);alert('Failed to delete campaign. Please try again.');}}};const handleViewCampaign=campaign=>{console.log('👁️ View campaign:',campaign.name);// TODO: Navigate to campaign details page or show campaign details modal\n// navigate(`/campaigns/${campaign.id}`);\n};// Create event handler\nconst handleCreateEvent=async eventData=>{try{console.log('📤 Creating new event:',eventData);const response=await apiService.createEvent(eventData);addEvent(response.event);// Add to store\n// Refresh financial data\nif(club!==null&&club!==void 0&&club.id){loadFinancialData();}return response;// Return for success handling\n}catch(error){console.error('❌ Failed to create event:',error);throw error;// Re-throw for form error handling\n}};// Edit event handler\nconst handleUpdateEvent=async eventData=>{if(!eventToEdit)return;try{console.log('📤 Updating event:',eventData);const response=await apiService.updateEvent(eventToEdit.id,eventData);updateEvent(eventToEdit.id,response.event);// Update in store\n// Refresh financial data\nif(club!==null&&club!==void 0&&club.id){loadFinancialData();}return response;// Return for success handling\n}catch(error){console.error('❌ Failed to update event:',error);throw error;// Re-throw for form error handling\n}};// NEW: Create campaign handler\nconst handleCreateCampaign=async campaignData=>{try{console.log('📤 Creating new campaign:',campaignData);const response=await apiService.createCampaign(campaignData);addCampaign(response.campaign);// Add to store\n// Refresh financial data\nif(club!==null&&club!==void 0&&club.id){loadFinancialData();}return response;// Return for success handling\n}catch(error){console.error('❌ Failed to create campaign:',error);throw error;// Re-throw for form error handling\n}};// NEW: Edit campaign handler\nconst handleUpdateCampaign=async campaignData=>{if(!campaignToEdit)return;try{console.log('📤 Updating campaign:',campaignData);const response=await apiService.updateCampaign(campaignToEdit.id,campaignData);updateCampaign(campaignToEdit.id,response.campaign);// Update in store\n// Refresh financial data\nif(club!==null&&club!==void 0&&club.id){loadFinancialData();}return response;// Return for success handling\n}catch(error){console.error('❌ Failed to update campaign:',error);throw error;// Re-throw for form error handling\n}};// Get campaign name helper\nconst getCampaignName=campaignId=>{if(!campaignId)return undefined;const campaign=campaigns.find(c=>c.id===campaignId);return campaign===null||campaign===void 0?void 0:campaign.name;};// UPDATED: Now opens the create campaign form instead of navigating\nconst handleOpenCreateCampaign=()=>{console.log('📍 Opening create campaign form');setShowCreateCampaignForm(true);};// NEW: Supporter handlers for the SupporterCard\nconst handleEditSupporter=supporter=>{console.log('🖊️ Opening edit form for supporter:',supporter.name);setSupporterToEdit(supporter);setShowEditSupporterForm(true);};const handleDeleteSupporter=async supporterId=>{const supporter=supporters.find(s=>s.id===supporterId);if(!supporter)return;const confirmMessage=\"Are you sure you want to delete \\\"\".concat(supporter.name,\"\\\"? This action cannot be undone.\");if(window.confirm(confirmMessage)){try{await supporterService.deleteSupporter(supporterId);// Remove from store (you'll need to add this to your store)\n// deleteSupporter(supporterId);\nconsole.log('✅ Supporter deleted successfully');// Refresh supporter data\nif(club!==null&&club!==void 0&&club.id){loadClubData();}}catch(error){console.error('❌ Failed to delete supporter:',error);alert('Failed to delete supporter. Please try again.');}}};const handleViewSupporter=supporter=>{console.log('👁️ View supporter:',supporter.name);setSelectedSupporter(supporter);setShowSupporterDetailPanel(true);};const handleQuickCall=supporter=>{console.log('📞 Quick call to:',supporter.name);// TODO: Implement quick call functionality\n// Could open a communication logging modal\nalert(\"Calling \".concat(supporter.name,\" at \").concat(supporter.phone));};const handleQuickEmail=supporter=>{console.log('📧 Quick email to:',supporter.name);// TODO: Implement quick email functionality\n// Could open email client or communication logging modal\nwindow.open(\"mailto:\".concat(supporter.email,\"?subject=Hello from \").concat(club===null||club===void 0?void 0:club.name));};// Create supporter handler\nconst handleCreateSupporter=async supporterData=>{try{console.log('📤 Creating new supporter:',supporterData);const response=await supporterService.createSupporter(club.id,supporterData);// Add to store (you'll need to add this to your store)\n// addSupporter(response.supporter);\n// Refresh supporter data\nif(club!==null&&club!==void 0&&club.id){loadClubData();}return response;// Return for success handling\n}catch(error){console.error('❌ Failed to create supporter:',error);throw error;// Re-throw for form error handling\n}};// Edit supporter handler\nconst handleUpdateSupporter=async supporterData=>{if(!supporterToEdit)return;try{console.log('📤 Updating supporter:',supporterData);const response=await supporterService.updateSupporter(supporterToEdit.id,supporterData);// Update in store (you'll need to add this to your store)\n// updateSupporter(supporterToEdit.id, response.supporter);\n// Refresh supporter data\nif(club!==null&&club!==void 0&&club.id){loadClubData();}return response;// Return for success handling\n}catch(error){console.error('❌ Failed to update supporter:',error);throw error;// Re-throw for form error handling\n}};// Show loading state while data is being fetched\nif(isLoading&&!campaigns.length&&!events.length){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading your dashboard...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(DashboardHeader,{clubName:club===null||club===void 0?void 0:club.name,userName:user===null||user===void 0?void 0:user.name,onNewEvent:()=>setShowCreateEventForm(true),onNewCampaign:handleOpenCreateCampaign}),/*#__PURE__*/_jsx(DashboardTabs,{activeTab:activeTab,onTabChange:setActiveTab}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg\",children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[activeTab==='overview'&&/*#__PURE__*/_jsx(OverviewTab,{metrics:metrics,financialData:financialData,upcomingEvents:upcomingEvents,campaigns:campaigns,getCampaignName:getCampaignName,onEditEvent:handleEditEvent,onDeleteEvent:handleDeleteEvent,onViewEvent:handleViewEvent,onEditCampaign:handleEditCampaign,onDeleteCampaign:handleDeleteCampaign,onViewCampaign:handleViewCampaign}),activeTab==='campaigns'&&/*#__PURE__*/_jsx(CampaignsTab,{campaigns:campaigns,onCreateCampaign:handleOpenCreateCampaign,onEditCampaign:handleEditCampaign,onDeleteCampaign:handleDeleteCampaign,onViewCampaign:handleViewCampaign}),activeTab==='events'&&/*#__PURE__*/_jsx(EventsTab,{events:events,getCampaignName:getCampaignName,onCreateEvent:()=>setShowCreateEventForm(true),onEditEvent:handleEditEvent,onDeleteEvent:handleDeleteEvent,onViewEvent:handleViewEvent}),activeTab==='supporters'&&/*#__PURE__*/_jsx(SupportersTab,{supporters:supporters,onCreateSupporter:()=>setShowCreateSupporterForm(true),onEditSupporter:handleEditSupporter,onDeleteSupporter:handleDeleteSupporter,onViewSupporter:handleViewSupporter,onQuickCall:handleQuickCall,onQuickEmail:handleQuickEmail}),activeTab==='financials'&&/*#__PURE__*/_jsx(FinancialsTab,{financialData:financialData,loading:loadingFinancials})]}),\" \",showCreateEventForm&&/*#__PURE__*/_jsx(CreateEventForm,{onSubmit:handleCreateEvent,onCancel:()=>setShowCreateEventForm(false),campaigns:campaigns}),showEditEventForm&&eventToEdit&&/*#__PURE__*/_jsx(CreateEventForm,{onSubmit:handleUpdateEvent,onCancel:()=>{setShowEditEventForm(false);setEventToEdit(null);},campaigns:campaigns,editMode:true,existingEvent:eventToEdit}),showCreateCampaignForm&&/*#__PURE__*/_jsx(CreateCampaignForm,{onSubmit:handleCreateCampaign,onCancel:()=>setShowCreateCampaignForm(false)}),showEditCampaignForm&&campaignToEdit&&/*#__PURE__*/_jsx(CreateCampaignForm,{onSubmit:handleUpdateCampaign,onCancel:()=>{setShowEditCampaignForm(false);setCampaignToEdit(null);},editMode:true,existingCampaign:campaignToEdit}),showCreateSupporterForm&&/*#__PURE__*/_jsx(CreateSupporterForm,{onSubmit:handleCreateSupporter,onCancel:()=>setShowCreateSupporterForm(false)}),showEditSupporterForm&&supporterToEdit&&/*#__PURE__*/_jsx(CreateSupporterForm,{onSubmit:handleUpdateSupporter,onCancel:()=>{setShowEditSupporterForm(false);setSupporterToEdit(null);},editMode:true,existingSupporter:supporterToEdit}),showSupporterDetailPanel&&selectedSupporter&&/*#__PURE__*/_jsx(SupporterDetailPanel,{supporter:selectedSupporter,isOpen:showSupporterDetailPanel,onClose:()=>{setShowSupporterDetailPanel(false);setSelectedSupporter(null);}})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAppStore","useAuth","useCampaigns","useEvents","useSupporters","useUI","apiService","CreateEventForm","CreateCampaignForm","CreateSupporterForm","SupporterDetailPanel","supporterService","DashboardHeader","DashboardTabs","OverviewTab","CampaignsTab","EventsTab","SupportersTab","FinancialsTab","jsx","_jsx","jsxs","_jsxs","ClubDashboard","activeTab","setActiveTab","financials","setFinancials","loadingFinancials","setLoadingFinancials","showCreateEventForm","setShowCreateEventForm","showEditEventForm","setShowEditEventForm","eventToEdit","setEventToEdit","showCreateCampaignForm","setShowCreateCampaignForm","showEditCampaignForm","setShowEditCampaignForm","campaignToEdit","setCampaignToEdit","navigate","user","club","campaigns","addCampaign","updateCampaign","deleteCampaign","events","addEvent","updateEvent","deleteEvent","supporters","isLoading","error","loadClubData","showCreateSupporterForm","setShowCreateSupporterForm","showEditSupporterForm","setShowEditSupporterForm","supporterToEdit","setSupporterToEdit","showSupporterDetailPanel","setShowSupporterDetailPanel","selectedSupporter","setSelectedSupporter","loadFinancialData","id","financialData","getClubFinancials","console","log","metrics","total_raised","total_income","active_campaigns","length","upcoming_events","filter","e","Date","event_date","total_supporters","top_donors","s","type","slice","upcomingEvents","event","monthly_income","monthly_expenses","total_expenses","net_profit","pending_expenses","recent_transactions","expense_categories","expense_breakdown","handleEditEvent","title","handleDeleteEvent","eventId","find","confirmMessage","concat","window","confirm","alert","handleViewEvent","handleEditCampaign","campaign","name","handleDeleteCampaign","campaignId","c","handleViewCampaign","handleCreateEvent","eventData","response","createEvent","handleUpdateEvent","handleCreateCampaign","campaignData","createCampaign","handleUpdateCampaign","getCampaignName","undefined","handleOpenCreateCampaign","handleEditSupporter","supporter","handleDeleteSupporter","supporterId","deleteSupporter","handleViewSupporter","handleQuickCall","phone","handleQuickEmail","open","email","handleCreateSupporter","supporterData","createSupporter","handleUpdateSupporter","updateSupporter","className","children","clubName","userName","onNewEvent","onNewCampaign","onTabChange","onEditEvent","onDeleteEvent","onViewEvent","onEditCampaign","onDeleteCampaign","onViewCampaign","onCreateCampaign","onCreateEvent","onCreateSupporter","onEditSupporter","onDeleteSupporter","onViewSupporter","onQuickCall","onQuickEmail","loading","onSubmit","onCancel","editMode","existingEvent","existingCampaign","existingSupporter","isOpen","onClose"],"sources":["/home/paulag/fundraisely-club/client/src/components/dashboard/ClubDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Calendar, \n  DollarSign, \n  Users, \n  TrendingUp, \n  Plus, \n  Target,\n  CheckCircle,\n  Clock,\n  Award,\n  PieChart,\n  TrendingDown,\n  Receipt,\n  X\n} from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAppStore, useAuth, useCampaigns, useEvents, useSupporters, useUI } from '../../store/app_store';\nimport { apiService } from '../../services/apiService';\nimport EventCard from '../cards/EventCard';\nimport CampaignCard from '../cards/CampaignCard'; // NEW IMPORT\nimport CreateEventForm from '../events/CreateEventForm';\nimport CreateCampaignForm from '../campaigns/CreateCampaignForm'; // NEW IMPORT\nimport SupporterCard from '../supporters/cards/SupporterCard';\nimport CreateSupporterForm from '../supporters/forms/CreateSupporterForm';\nimport SupporterDetailPanel from '../supporters/panels/SupporterDetailPanel';\nimport { supporterService } from '../../services';\nimport MetricCard from './MetricCard';\nimport DashboardHeader from './DashboardHeader';\nimport DashboardTabs from './DashboardTabs';\nimport OverviewTab from './OverviewTab';\nimport CampaignsTab from './CampaignsTab';\nimport EventsTab from './EventsTab';\nimport SupportersTab from './SupportersTab';\nimport FinancialsTab from './FinancialsTab';\n\n\n\nimport { Event, Campaign, DashboardMetrics, CreateEventForm as CreateEventFormData, CreateCampaignForm as CreateCampaignFormData } from '../../types/types';\n\n// Component-specific prop interfaces\ninterface MetricCardProps {\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n  title: string;\n  value: string | number;\n  subtitle?: string;\n  color?: string;\n}\n\nexport default function ClubDashboard() {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [financials, setFinancials] = useState<any>(null);\n  const [loadingFinancials, setLoadingFinancials] = useState(false);\n  \n  // Enhanced state for event editing\n  const [showCreateEventForm, setShowCreateEventForm] = useState(false);\n  const [showEditEventForm, setShowEditEventForm] = useState(false);\n  const [eventToEdit, setEventToEdit] = useState<Event | null>(null);\n  \n  // NEW: Enhanced state for campaign editing\n  const [showCreateCampaignForm, setShowCreateCampaignForm] = useState(false);\n  const [showEditCampaignForm, setShowEditCampaignForm] = useState(false);\n  const [campaignToEdit, setCampaignToEdit] = useState<Campaign | null>(null);\n  \n  const navigate = useNavigate();\n\n  // Use your existing app store hooks\n  const { user, club } = useAuth();\n  const { campaigns, addCampaign, updateCampaign, deleteCampaign } = useCampaigns();\n  const { events, addEvent, updateEvent, deleteEvent } = useEvents();\n  const { supporters } = useSupporters();\n  const { isLoading, error } = useUI();\n  const { loadClubData } = useAppStore();\n\n  // Enhanced state for supporter management\nconst [showCreateSupporterForm, setShowCreateSupporterForm] = useState(false);\nconst [showEditSupporterForm, setShowEditSupporterForm] = useState(false);\nconst [supporterToEdit, setSupporterToEdit] = useState<any>(null);\nconst [showSupporterDetailPanel, setShowSupporterDetailPanel] = useState(false);\nconst [selectedSupporter, setSelectedSupporter] = useState<any>(null);\n\n  // Load financial data\n  const loadFinancialData = async () => {\n    if (club?.id) {\n      setLoadingFinancials(true);\n      try {\n        const financialData = await apiService.getClubFinancials(club.id);\n        setFinancials(financialData);\n      } catch (error) {\n        console.error('Failed to load financial data:', error);\n      } finally {\n        setLoadingFinancials(false);\n      }\n    }\n  };\n\n  // Load data when component mounts\n  useEffect(() => {\n    if (club?.id) {\n      console.log('Loading dashboard data for club:', club.id);\n      loadClubData(); // Loads campaigns, events, supporters from your app store\n      loadFinancialData(); // Loads financial data\n    }\n  }, [club?.id, loadClubData]);\n\n  // Create computed metrics from real data\n  const metrics: DashboardMetrics = {\n    total_raised: financials?.total_income || 0,\n    active_campaigns: campaigns.length,\n    upcoming_events: events.filter(e => new Date(e.event_date) > new Date()).length,\n    total_supporters: supporters.length,\n    top_donors: supporters.filter(s => s.type === 'donor').slice(0, 3)\n  };\n\n  // Filter upcoming events from real data\n  const upcomingEvents = events\n    .filter(event => new Date(event.event_date) > new Date())\n    .slice(0, 2); // Show only next 2 events\n\n  // Get financial data from backend or use defaults\n  const financialData = {\n    monthly_income: financials?.total_income || 0,\n    monthly_expenses: financials?.total_expenses || 0,\n    net_profit: financials?.net_profit || 0,\n    pending_expenses: 0, // You might need to add this to your backend\n    recent_transactions: [], // You might need to add this to your backend\n    expense_categories: financials?.expense_breakdown || []\n  };\n\n  // Event handlers for the EventCard\n  const handleEditEvent = (event: Event) => {\n    console.log('🖊️ Opening edit form for event:', event.title);\n    setEventToEdit(event);\n    setShowEditEventForm(true);\n  };\n\n  const handleDeleteEvent = async (eventId: string) => {\n    const event = events.find(e => e.id === eventId);\n    if (!event) return;\n\n    const confirmMessage = `Are you sure you want to delete \"${event.title}\"? This action cannot be undone.`;\n    \n    if (window.confirm(confirmMessage)) {\n      try {\n        await apiService.deleteEvent(eventId);\n        deleteEvent(eventId); // Remove from store\n        \n        // Refresh financial data since event was deleted\n        if (club?.id) {\n          loadFinancialData();\n        }\n        \n        console.log('✅ Event deleted successfully');\n      } catch (error) {\n        console.error('❌ Failed to delete event:', error);\n        alert('Failed to delete event. Please try again.');\n      }\n    }\n  };\n\n  const handleViewEvent = (event: Event) => {\n    console.log('👁️ View event:', event.title);\n    // TODO: Navigate to event details page or show event details modal\n    // navigate(`/events/${event.id}`);\n  };\n\n  // NEW: Campaign handlers for the CampaignCard\n  const handleEditCampaign = (campaign: Campaign) => {\n    console.log('🖊️ Opening edit form for campaign:', campaign.name);\n    setCampaignToEdit(campaign);\n    setShowEditCampaignForm(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId: string) => {\n    const campaign = campaigns.find(c => c.id === campaignId);\n    if (!campaign) return;\n\n    const confirmMessage = `Are you sure you want to delete \"${campaign.name}\"? This action cannot be undone.`;\n    \n    if (window.confirm(confirmMessage)) {\n      try {\n        await apiService.deleteCampaign(campaignId);\n        deleteCampaign(campaignId); // Remove from store\n        \n        // Refresh financial data since campaign was deleted\n        if (club?.id) {\n          loadFinancialData();\n        }\n        \n        console.log('✅ Campaign deleted successfully');\n      } catch (error) {\n        console.error('❌ Failed to delete campaign:', error);\n        alert('Failed to delete campaign. Please try again.');\n      }\n    }\n  };\n\n  const handleViewCampaign = (campaign: Campaign) => {\n    console.log('👁️ View campaign:', campaign.name);\n    // TODO: Navigate to campaign details page or show campaign details modal\n    // navigate(`/campaigns/${campaign.id}`);\n  };\n\n  // Create event handler\n  const handleCreateEvent = async (eventData: CreateEventFormData) => {\n    try {\n      console.log('📤 Creating new event:', eventData);\n      const response = await apiService.createEvent(eventData);\n      addEvent(response.event); // Add to store\n      \n      // Refresh financial data\n      if (club?.id) {\n        loadFinancialData();\n      }\n      \n      return response; // Return for success handling\n    } catch (error) {\n      console.error('❌ Failed to create event:', error);\n      throw error; // Re-throw for form error handling\n    }\n  };\n\n  // Edit event handler\n  const handleUpdateEvent = async (eventData: CreateEventFormData) => {\n    if (!eventToEdit) return;\n\n    try {\n      console.log('📤 Updating event:', eventData);\n      const response = await apiService.updateEvent(eventToEdit.id, eventData);\n      updateEvent(eventToEdit.id, response.event); // Update in store\n      \n      // Refresh financial data\n      if (club?.id) {\n        loadFinancialData();\n      }\n      \n      return response; // Return for success handling\n    } catch (error) {\n      console.error('❌ Failed to update event:', error);\n      throw error; // Re-throw for form error handling\n    }\n  };\n\n  // NEW: Create campaign handler\n  const handleCreateCampaign = async (campaignData: CreateCampaignFormData) => {\n    try {\n      console.log('📤 Creating new campaign:', campaignData);\n      const response = await apiService.createCampaign(campaignData);\n      addCampaign(response.campaign); // Add to store\n      \n      // Refresh financial data\n      if (club?.id) {\n        loadFinancialData();\n      }\n      \n      return response; // Return for success handling\n    } catch (error) {\n      console.error('❌ Failed to create campaign:', error);\n      throw error; // Re-throw for form error handling\n    }\n  };\n\n  // NEW: Edit campaign handler\n  const handleUpdateCampaign = async (campaignData: CreateCampaignFormData) => {\n    if (!campaignToEdit) return;\n\n    try {\n      console.log('📤 Updating campaign:', campaignData);\n      const response = await apiService.updateCampaign(campaignToEdit.id, campaignData);\n      updateCampaign(campaignToEdit.id, response.campaign); // Update in store\n      \n      // Refresh financial data\n      if (club?.id) {\n        loadFinancialData();\n      }\n      \n      return response; // Return for success handling\n    } catch (error) {\n      console.error('❌ Failed to update campaign:', error);\n      throw error; // Re-throw for form error handling\n    }\n  };\n\n  // Get campaign name helper\n  const getCampaignName = (campaignId?: string) => {\n    if (!campaignId) return undefined;\n    const campaign = campaigns.find(c => c.id === campaignId);\n    return campaign?.name;\n  };\n\n  // UPDATED: Now opens the create campaign form instead of navigating\n  const handleOpenCreateCampaign = () => {\n    console.log('📍 Opening create campaign form');\n    setShowCreateCampaignForm(true);\n  };\n\n \n\n // NEW: Supporter handlers for the SupporterCard\nconst handleEditSupporter = (supporter: any) => {\n  console.log('🖊️ Opening edit form for supporter:', supporter.name);\n  setSupporterToEdit(supporter);\n  setShowEditSupporterForm(true);\n};\n\nconst handleDeleteSupporter = async (supporterId: string) => {\n  const supporter = supporters.find(s => s.id === supporterId);\n  if (!supporter) return;\n\n  const confirmMessage = `Are you sure you want to delete \"${supporter.name}\"? This action cannot be undone.`;\n  \n  if (window.confirm(confirmMessage)) {\n    try {\n      await supporterService.deleteSupporter(supporterId);\n      // Remove from store (you'll need to add this to your store)\n      // deleteSupporter(supporterId);\n      \n      console.log('✅ Supporter deleted successfully');\n      \n      // Refresh supporter data\n      if (club?.id) {\n        loadClubData();\n      }\n    } catch (error) {\n      console.error('❌ Failed to delete supporter:', error);\n      alert('Failed to delete supporter. Please try again.');\n    }\n  }\n};\n\nconst handleViewSupporter = (supporter: any) => {\n  console.log('👁️ View supporter:', supporter.name);\n  setSelectedSupporter(supporter);\n  setShowSupporterDetailPanel(true);\n};\n\nconst handleQuickCall = (supporter: any) => {\n  console.log('📞 Quick call to:', supporter.name);\n  // TODO: Implement quick call functionality\n  // Could open a communication logging modal\n  alert(`Calling ${supporter.name} at ${supporter.phone}`);\n};\n\nconst handleQuickEmail = (supporter: any) => {\n  console.log('📧 Quick email to:', supporter.name);\n  // TODO: Implement quick email functionality\n  // Could open email client or communication logging modal\n  window.open(`mailto:${supporter.email}?subject=Hello from ${club?.name}`);\n};\n\n// Create supporter handler\nconst handleCreateSupporter = async (supporterData: any) => {\n  try {\n    console.log('📤 Creating new supporter:', supporterData);\n    const response = await supporterService.createSupporter(club!.id, supporterData);\n    \n    // Add to store (you'll need to add this to your store)\n    // addSupporter(response.supporter);\n    \n    // Refresh supporter data\n    if (club?.id) {\n      loadClubData();\n    }\n    \n    return response; // Return for success handling\n  } catch (error) {\n    console.error('❌ Failed to create supporter:', error);\n    throw error; // Re-throw for form error handling\n  }\n};\n\n// Edit supporter handler\nconst handleUpdateSupporter = async (supporterData: any) => {\n  if (!supporterToEdit) return;\n\n  try {\n    console.log('📤 Updating supporter:', supporterData);\n    const response = await supporterService.updateSupporter(supporterToEdit.id, supporterData);\n    \n    // Update in store (you'll need to add this to your store)\n    // updateSupporter(supporterToEdit.id, response.supporter);\n    \n    // Refresh supporter data\n    if (club?.id) {\n      loadClubData();\n    }\n    \n    return response; // Return for success handling\n  } catch (error) {\n    console.error('❌ Failed to update supporter:', error);\n    throw error; // Re-throw for form error handling\n  }\n};\n\n  // Show loading state while data is being fetched\n  if (isLoading && (!campaigns.length && !events.length)) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading your dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n    {/* Header */}\n<DashboardHeader\n  clubName={club?.name}\n  userName={user?.name}\n  onNewEvent={() => setShowCreateEventForm(true)}\n  onNewCampaign={handleOpenCreateCampaign}\n/>\n <DashboardTabs activeTab={activeTab} onTabChange={setActiveTab} />\n\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n          <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg\">\n            {error}\n          </div>\n        </div>\n      )}\n\n      {/* Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      {activeTab === 'overview' && (\n  <OverviewTab\n    metrics={metrics}\n    financialData={financialData}\n    upcomingEvents={upcomingEvents}\n    campaigns={campaigns}\n    getCampaignName={getCampaignName}\n    onEditEvent={handleEditEvent}\n    onDeleteEvent={handleDeleteEvent}\n    onViewEvent={handleViewEvent}\n    onEditCampaign={handleEditCampaign}\n    onDeleteCampaign={handleDeleteCampaign}\n    onViewCampaign={handleViewCampaign}\n  />\n)}\n\n        {/* UPDATED: Campaigns tab using new CampaignCard */}\n       {activeTab === 'campaigns' && (\n  <CampaignsTab\n    campaigns={campaigns}\n    onCreateCampaign={handleOpenCreateCampaign}\n    onEditCampaign={handleEditCampaign}\n    onDeleteCampaign={handleDeleteCampaign}\n    onViewCampaign={handleViewCampaign}\n  />\n)}\n\n\n        {activeTab === 'events' && (\n  <EventsTab\n    events={events}\n    getCampaignName={getCampaignName}\n    onCreateEvent={() => setShowCreateEventForm(true)}\n    onEditEvent={handleEditEvent}\n    onDeleteEvent={handleDeleteEvent}\n    onViewEvent={handleViewEvent}\n  />\n)}\n\n{activeTab === 'supporters' && (\n<SupportersTab\n  supporters={supporters}\n  onCreateSupporter={() => setShowCreateSupporterForm(true)}\n  onEditSupporter={handleEditSupporter}\n  onDeleteSupporter={handleDeleteSupporter}\n  onViewSupporter={handleViewSupporter}\n  onQuickCall={handleQuickCall}\n  onQuickEmail={handleQuickEmail}\n/>)}\n\n\n        {activeTab === 'financials' && (\n  <FinancialsTab financialData={financialData} loading={loadingFinancials} />\n)}\n</div> {/* End of tab content wrapper */}\n\n      {/* Create Event Form Modal */}\n      {showCreateEventForm && (\n        <CreateEventForm\n          onSubmit={handleCreateEvent}\n          onCancel={() => setShowCreateEventForm(false)}\n          campaigns={campaigns}\n        />\n      )}\n\n      {/* Edit Event Form Modal */}\n      {showEditEventForm && eventToEdit && (\n        <CreateEventForm\n          onSubmit={handleUpdateEvent}\n          onCancel={() => {\n            setShowEditEventForm(false);\n            setEventToEdit(null);\n          }}\n          campaigns={campaigns}\n          editMode={true}\n          existingEvent={eventToEdit}\n        />\n      )}\n\n      {/* NEW: Create Campaign Form Modal */}\n      {showCreateCampaignForm && (\n        <CreateCampaignForm\n          onSubmit={handleCreateCampaign}\n          onCancel={() => setShowCreateCampaignForm(false)}\n        />\n      )}\n\n      {/* NEW: Edit Campaign Form Modal */}\n      {showEditCampaignForm && campaignToEdit && (\n        <CreateCampaignForm\n          onSubmit={handleUpdateCampaign}\n          onCancel={() => {\n            setShowEditCampaignForm(false);\n            setCampaignToEdit(null);\n          }}\n          editMode={true}\n          existingCampaign={campaignToEdit}\n        />\n      )}\n\n      {/* Create Supporter Form Modal */}\n{showCreateSupporterForm && (\n  <CreateSupporterForm\n    onSubmit={handleCreateSupporter}\n    onCancel={() => setShowCreateSupporterForm(false)}\n  />\n)}\n\n{/* Edit Supporter Form Modal */}\n{showEditSupporterForm && supporterToEdit && (\n  <CreateSupporterForm\n    onSubmit={handleUpdateSupporter}\n    onCancel={() => {\n      setShowEditSupporterForm(false);\n      setSupporterToEdit(null);\n    }}\n    editMode={true}\n    existingSupporter={supporterToEdit}\n  />\n)}\n\n{/* Supporter Detail Panel */}\n{showSupporterDetailPanel && selectedSupporter && (\n  <SupporterDetailPanel\n    supporter={selectedSupporter}\n    isOpen={showSupporterDetailPanel}\n    onClose={() => {\n      setShowSupporterDetailPanel(false);\n      setSelectedSupporter(null);\n    }}\n  />\n)}\n    </div>\n\n    \n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}